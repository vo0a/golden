pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
-- golden - ãƒ ã‚‚â–ˆãƒ ãˆã²ãƒ¡ğŸ˜ãˆ ãƒŸâ™ªã¬ãƒŸã¡ã¦ ãƒ¡âğŸ˜ãƒ¡â–‘ã¬ãƒ âŒ‚ã•
-- ãƒ ã›â–ˆãƒ¡ğŸ˜ããƒ ãˆã² ãƒŸâ§—ã ãƒŸãã†ãƒŸã«ã¾ ãƒŸã®â–‘ãƒ ãâ–‘ v2.2

-- ========================================
-- ãƒ ãâ–‘ãƒ âã¨ ãƒŸã¯â–ˆãƒ â˜‰â–¤ ãƒ ã²â˜‰ãƒã¾ã¬ãƒ¡â–¥â¬†ï¸
-- ========================================

function _init()
  game_state = "play"
  stage = 1
  frame = 0
  
  -- ãƒ âŒ‚ã•ãƒ¡âœ½ğŸ˜ãƒ ãˆã²ãƒ ã›â–ˆ ãƒ â–‘ã•ãƒ ãË‡
  stage_config = {
    {max_enemies=10, portal_interval=300, boss_hp=100, boss_speed=1},
    {max_enemies=15, portal_interval=240, boss_hp=150, boss_speed=1.5},
    {max_enemies=25, portal_interval=180, boss_hp=200, boss_speed=2}
  }
  
  init_player()
  init_boss()
  init_platforms()
  
  enemies = {}
  portals = {}
  notes = {}
  boss_bullets = {}
  
  jinu_active = false
  jinu_timer = 0
  
  -- ãƒ âŒ‚ã•ãƒ¡âœ½ğŸ˜ãƒ ãˆã²ãƒ ã›â–ˆ ãƒ ãâ–‘ãƒ¡â–¥â–¤ ãƒã²â–ˆãƒŸãã
  stage_clear = false
  stage_clear_timer = 0
  
  -- ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ ãƒ â¬‡ï¸ãˆãƒ â–‘ã­ ãƒ¡â¬‡ï¸â–ˆãƒ ãˆã²ãƒŸãã¾
  platform_spawn_timer = 0
end

-- ========================================
-- ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ ãƒ ã²â˜‰ãƒã¾ã¬ãƒ¡â–¥â¬†ï¸ (ãƒãµã¦ãƒ ãã¬ãƒŸã¦ã‚‚) - ãƒŸâ—†â–¥ãƒ ãâ–’ ãƒ â¬‡ï¸ãˆãƒ â–‘ã­
-- ========================================

function init_platforms()
  platforms = {}
  
  -- ãƒã¾ã¬ãƒŸã¯ã¾ ãƒŸË‡âœ½ (ãƒ â–¤â–’ãƒãµã¦ãƒ ãâ–’) - 179, 180, 181ãƒŸã®â˜‰ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ãƒŸãã† ãƒã»ã¾ãƒŸãã•ãƒ ã›â€¦
  add(platforms, {x=0, y=120, w=128, h=8, permanent=true})
  
  -- ãƒ ã²â˜‰ãƒã¾ã¬ ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ ãƒ â¬‡ï¸ãˆãƒ â–‘ã­ (4-5ãƒã¬ã†)
  local num_platforms = 4 + flr(rnd(2))
  for i=1,num_platforms do
    spawn_random_platform()
  end
end

-- ========================================
-- ãƒŸãŠã†ãƒŸâ™ªã• ãƒ ã†â–‘ãƒ ã¿â–¤ãƒ ââ€¦ ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ ãƒ â¬‡ï¸ãˆãƒ â–‘ã­
-- ========================================

function spawn_random_platform()
  local px = 10 + rnd(90)
  local py = 40 + rnd(70)
  local pw = 15 + rnd(25)
  
  -- ãƒã¾ã¬ãƒ ãã² ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ãƒã¯ã‚‚ ãƒŸâ–‘â˜‰ãƒŸã¦ã² ãƒã¬â–ˆãƒã¿ğŸ˜ãƒ ã‚ã¬ãƒŸãŸã² ãƒ ã†â–‘ãƒ ã¿â–¤ ãƒ ãã¬ãƒ ãË‡
  local attempts = 0
  local too_close = true
  
  while too_close and attempts < 10 do
    too_close = false
    for p in all(platforms) do
      if abs(px - p.x) < 30 and abs(py - p.y) < 20 then
        too_close = true
        px = 10 + rnd(90)
        py = 40 + rnd(70)
        break
      end
    end
    attempts += 1
  end
  
  add(platforms, {
    x = px,
    y = py,
    w = pw,
    h = 4
  })
end

-- ========================================
-- ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ ãƒ ââœ½ãƒŸâ™ªã¬ãƒ ãˆã²ãƒ¡âŒ‚ã¾ (7ãƒ ã²â˜‰ãƒŸã›â˜‰ãƒŸâ¬…ï¸ã• ãƒ ãâ–‘ãƒ ã®ã² ãƒãµâ€¦ãƒ ã®ã²)
-- ========================================

function update_platforms()
  -- 7ãƒ ã²â˜‰ãƒŸã›â˜‰ãƒŸâ¬…ï¸ã• (420ãƒ¡â¬†ï¸â–‘ãƒŸãâ˜‰ãƒ ãŠâ–‘) ãƒŸã¡ããƒŸâ§—ã ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ ãƒãµâ€¦ãƒ ã®ã²
  platform_spawn_timer += 1
  if platform_spawn_timer >= 420 then
    platform_spawn_timer = 0
    
    -- ãƒŸË‡âœ½ãƒ ãˆâ–‘ ãƒ ãã†ãƒ â–¥ã¾ãƒ¡Ë‡ã† ãƒŸã¡ããƒŸâ§—ã ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ ãƒ ãã†ãƒã­ã¬
    local temp_platforms = {}
    for p in all(platforms) do
      if p.permanent then
        add(temp_platforms, p)
      else
        del(platforms, p)
      end
    end
    platforms = temp_platforms
    
    -- ãƒ â¬‡ï¸â˜‰ãƒŸãã†ãƒ ã‚ã² ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ ãƒ â¬‡ï¸ãˆãƒ â–‘ã­ (4-5ãƒã¬ã†)
    local num_platforms = 4 + flr(rnd(2))
    for i=1,num_platforms do
      spawn_random_platform()
    end
  end
end

-- ========================================
-- ãƒ¡â¬†ï¸ğŸ˜ãƒŸãâ˜‰ãƒ ãˆã²ãƒ âˆ§ã² ãƒ ã²â˜‰ãƒã¾ã¬ãƒ¡â–¥â¬†ï¸
-- ========================================

function init_player()
  player = {
    x = 32,
    y = 100,
    w = 8,
    h = 8,
    vx = 0,
    vy = 0,
    grounded = false,
    jump_count = 0,
    hp = 100,
    max_hp = 100,
    special = 0,
    facing = 1,
    anim_frame = 0,
    shoot_cooldown = 0,
    attack_anim = 0,  -- ãƒã¯ãµãƒã®ãŸ ãƒ Ë‡ããƒŸâ¬…ï¸â˜‰ãƒŸãŸâ¬†ï¸ãƒ ãˆã²ãƒ âœ½â–¤ ãƒ ã¿ã²ãƒ ã‚ã²ãƒ¡â–‘ã¬
    sprite = 100  -- 003ãƒŸã®â˜‰ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ (ãƒ ã›â–ˆãƒ¡ğŸ˜ããƒ ãˆã² ãƒŸâ§—ã ãƒŸãã†ãƒŸã«ã¾)
  }
end

-- ========================================
-- ãƒŸã¯ã²ãƒ âŒ‚ã• ãƒ ã²â˜‰ãƒã¾ã¬ãƒ¡â–¥â¬†ï¸
-- ========================================

function init_boss()
  local cfg = stage_config[stage]
  boss = {
    x = 96,
    y = 40,
    w = 32,  -- 4x4 ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ = 32ãƒ¡â¬†ï¸ã‚„ãƒ âœ½â–ˆ
    h = 32,  -- 4x4 ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ = 32ãƒ¡â¬†ï¸ã‚„ãƒ âœ½â–ˆ
    vx = 0,
    vy = 0,
    hp = cfg.boss_hp,
    max_hp = cfg.boss_hp,
    phase = stage,
    portal_timer = 0,
    move_timer = 0,
    attack_timer = 0,
    attack_pattern = 1,
    target_x = 96,
    target_y = 40,
    anim_frame = 0,
    dodge_cooldown = 0,
    sprite = 200  -- ãƒã»â–ˆãƒŸã›â˜‰ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ 200ãƒŸã®â˜‰ãƒŸã¸â–ˆãƒ¡â–‘ã¬ ãƒ â¬…ï¸ã†ãƒ ãŠâ¡ï¸
  }
end

-- ========================================
-- ãƒŸãŸâ¬†ï¸ãƒ ãˆã¾ ãƒ ââœ½ãƒŸâ™ªã¬ãƒ ãˆã²ãƒ¡âŒ‚ã¾ ãƒŸã“ããƒ¡â¬†ï¸â–‘
-- ========================================

function _update60()
  frame += 1
  
  if game_state == "play" then
    if stage_clear then
      stage_clear_timer += 1
      if btnp(4) or stage_clear_timer > 120 then
        next_stage()
      end
    else
      update_input()
      update_player()
      update_boss()
      update_enemies()
      update_portals()
      update_platforms()
      update_projectiles()
      check_collisions()
      update_jinu()
      check_game_state()
    end
    
  elseif game_state == "title" then
    if btnp(4) or btnp(5) then
      game_state = "play"
      music(0)
    end
  elseif game_state == "gameover" or game_state == "win" then
    if btnp(4) then
      _init()
    end
  end
end

-- ========================================
-- ãƒŸâ¬…ï¸ã•ãƒ ãˆğŸ˜ ãƒ âŒ‚ã•ãƒ¡âœ½ğŸ˜ãƒ ãˆã²ãƒ ã›â–ˆãƒŸãã† ãƒ ã›â–‘ãƒ¡âˆ§ì›ƒ
-- ========================================

function next_stage()
  stage += 1
  if stage > 3 then
    game_state = "win"
    music(-1)  -- ãƒ ãˆğŸ˜ãƒ Ë‡âœ½ ãƒ ãË‡ãƒ ã›â–ˆ
    music(1) -- ãƒ âŒ‚ã¿ãƒŸã™ã¦ ãƒ ãˆğŸ˜ãƒ Ë‡âœ½
  else
    stage_clear = false
    stage_clear_timer = 0
    platform_spawn_timer = 0
    init_player()
    init_boss()
    init_platforms()
    enemies = {}
    portals = {}
    notes = {}
    boss_bullets = {}
  end
end

-- ========================================
-- ãƒ ãŠâœ½ãƒŸãã— ãƒ ã®â–¤ãƒŸã™ã¦
-- ========================================

function update_input()
  -- ãƒ ã‘ğŸ˜ãƒ ã‚ã¬ ãƒ ãˆã²ãƒŸâ—†â–¥
  if btn(0) then
    player.vx = -2
    player.facing = -1
  elseif btn(1) then
    player.vx = 2
    player.facing = 1
  else
    player.vx = 0
  end
  
  -- ãƒ ãâ€¦ãƒ¡â¬†ï¸â–‘ (ãƒ ãˆã²ãƒŸâ¬…ï¸ã ãƒ ãâ€¦ãƒ¡â¬†ï¸â–‘ ãƒã¬â–ˆãƒŸâŒ‚ã—)
  if btnp(4) and player.jump_count < 2 then
    player.vy = -4
    player.jump_count += 1
    sfx(3)
  end
  
  -- ãƒ Ë‡â–‘ãƒŸãŠâ–¤ ãƒ ãâ€¦ãƒ¡â¬†ï¸â–‘ (ãƒãµã¦ãƒ ãã¬ãƒŸã¦ã‚‚ ãƒ¡â—ãµãƒã¯ã‚‚)
  if btnp(3) and player.grounded then
    player.y += 8
    player.grounded = false
    player.vy = 1
  end
  
  -- ãƒ¡Ë‡â–¤ãƒã¬Ë‡ (ãƒã¯ãµãƒ ã•â¡ï¸ãƒ ââ€¦ãƒ â–‘ã†)
  if btn(3) and not player.grounded then
    player.vy = 4
  end
  
  -- ãƒã¯ãµãƒã®ãŸ (ãƒ ã›â–ˆãƒ¡ğŸ˜ããƒ ãˆã² ãƒ¡ã†â–¤ãƒŸâ¡ï¸â€¦ãƒŸã—ã²ãƒã¾ã¬)
  if btnp(5) and player.shoot_cooldown <= 0 then
    shoot_note()
    player.shoot_cooldown = 15
  end
end

-- ========================================
-- ãƒ¡â¬†ï¸ğŸ˜ãƒŸãâ˜‰ãƒ ãˆã²ãƒ âˆ§ã² ãƒ ââœ½ãƒŸâ™ªã¬ãƒ ãˆã²ãƒ¡âŒ‚ã¾
-- ========================================

function update_player()
  if player.shoot_cooldown > 0 then
    player.shoot_cooldown -= 1
  end
  
  -- ãƒã¯ãµãƒã®ãŸ ãƒ Ë‡ããƒŸâ¬…ï¸â˜‰ãƒŸãŸâ¬†ï¸ãƒ ãˆã²ãƒ âœ½â–¤ ãƒ ã¿ã²ãƒ ã‚ã²ãƒ¡â–‘ã¬ ãƒã¬â€¦ãƒ â—ğŸ˜
  if player.attack_anim > 0 then
    player.attack_anim -= 1
  end
  
  -- ãƒ ã•â¡ï¸ãƒŸãã— ãƒ ãâ–’ãƒ ã‚ãŸ
  player.vy += 0.3
  if player.vy > 4 then
    player.vy = 4
  end
  
  -- ãƒ ã†â–‘ãƒ ã¿â–¤ ãƒ ââœ½ãƒŸâ™ªã¬ãƒ ãˆã²ãƒ¡âŒ‚ã¾
  player.x += player.vx
  player.y += player.vy
  
  -- ãƒ¡â–¥â¬†ï¸ãƒŸãŸã² ãƒã®ã‚„ãƒã¯â–‘ ãƒ ã®ã²ãƒ¡â–’ã¦
  if player.x < 0 then player.x = 0 end
  if player.x > 120 then player.x = 120 end
  if player.y < 0 then player.y = 0 end
  
  -- ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ ãƒ ã¸ãŸãƒŸâ—†ğŸ˜ ãƒ ã®ã²ãƒ¡â–’ã¦
  player.grounded = false
  for p in all(platforms) do
    if player.x + player.w > p.x and
       player.x < p.x + p.w and
       player.y + player.h >= p.y and
       player.y + player.h <= p.y + 6 and
       player.vy >= 0 then
      player.y = p.y - player.h
      player.vy = 0
      player.grounded = true
      player.jump_count = 0
      break
    end
  end
  
  -- ãƒ¡â–¥â¬†ï¸ãƒŸãŸã² ãƒŸã¬âˆ§ãƒ ã†ã‚‚ãƒŸãã† ãƒŸâˆ§ããƒ âˆ§ã²ãƒ ã›â–ˆãƒŸãŸã² ãƒŸâ™ªã¬ãƒŸã«ã¾ãƒ ã›â–ˆ
  if player.y > 128 then
    player.hp -= 20
    player.x = 32
    player.y = 100
    player.vy = 0
  end
  
  -- ãƒ Ë‡ããƒŸâ¬…ï¸â˜‰ãƒŸãŸâ¬†ï¸ãƒ ãˆã²ãƒ âœ½â–¤ ãƒ¡â¬†ï¸â–‘ãƒŸãâ˜‰ãƒ ãŠâ–‘ ãƒ ââœ½ãƒŸâ™ªã¬ãƒ ãˆã²ãƒ¡âŒ‚ã¾
  if player.vx != 0 then
    player.anim_frame = (player.anim_frame + 1) % 32
  else
    player.anim_frame = 0
  end
  
  -- ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ãƒŸâŒ‚â¬†ï¸ ãƒ¡Ë‡ã¨ãƒ â¬‡ï¸â–’ 003ãƒŸã®â˜‰ (ãƒ ã›â–ˆãƒ¡ğŸ˜ããƒ ãˆã² ãƒŸâ§—ã ãƒŸãã†ãƒŸã«ã¾)
  player.sprite = 100
end

-- ========================================
-- ãƒ ãˆğŸ˜ãƒ¡â¡ï¸ã† ãƒŸã¬ã†ãƒ ğŸ±ã¦ (ãƒ ã›â–ˆãƒ¡ğŸ˜ããƒ ãˆã² ãƒã¯ãµãƒã®ãŸ - 000ãƒŸã®â˜‰ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾)
-- ========================================

function shoot_note()
  -- ãƒã¯ãµãƒã®ãŸ ãƒ Ë‡ããƒŸâ¬…ï¸â˜‰ãƒŸãŸâ¬†ï¸ãƒ ãˆã²ãƒ âœ½â–¤ ãƒ â¬…ï¸ã†ãƒ ãŠâ¡ï¸ (ãƒ ã›â–ˆãƒ¡ğŸ˜ããƒ ãˆã² ãƒ¡ã†â–¤ãƒŸâ¡ï¸â€¦ãƒŸã—ã²ãƒã¾ã¬)
  player.attack_anim = 10  -- 10ãƒ¡â¬†ï¸â–‘ãƒŸãâ˜‰ãƒ ãŠâ–‘ ãƒŸâ—†â–¥ãƒ Ë‡â˜‰ ãƒã¯ãµãƒã®ãŸ ãƒŸã¡ããƒ âœ½â–¤
  
  -- 000ãƒŸã®â˜‰ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ ãƒŸã¬ã†ãƒ ğŸ±ã¦
  -- ãƒ â–¤ã•ãƒŸã—ã¾ãƒ ã¡ã‚„ ãƒŸã¯ã²ãƒŸãŸã² ãƒ â–¤ã•ãƒŸã—ã¾ãƒ ã¡ã‚„ãƒ ââ€¦ãƒ â–‘ã†, ãƒ â–¥ã‚‚ãƒ ã¡ã‚„ ãƒŸã¯ã²ãƒŸãŸã² ãƒ â–¥ã‚‚ãƒ ã¡ã‚„ãƒ ââ€¦ãƒ â–‘ã† ãƒ ã›â–ˆãƒ¡ğŸ˜ããƒ ãˆã²ãƒ ãˆã² ãƒŸğŸ±â–¤ãƒã¬â€¦
  add(notes, {
    x = player.x + (player.facing > 0 and 10 or -10),  -- ãƒ â–¤ã•ãƒŸã—ã¾ãƒ ã¡ã‚„: +10, ãƒ â–¥ã‚‚ãƒ ã¡ã‚„: -10
    y = player.y,
    w = 8,
    h = 8,
    vx = player.facing * 3,
    vy = 0,
    damage = 10,
    sprite = 0  -- 000ãƒŸã®â˜‰ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ ãƒ ğŸ±ã¦ãƒ ã‚ãŸ
  })
end

-- ========================================
-- ãƒŸã¯ã²ãƒ âŒ‚ã• ãƒ ââœ½ãƒŸâ™ªã¬ãƒ ãˆã²ãƒ¡âŒ‚ã¾
-- ========================================

function update_boss()
  local cfg = stage_config[stage]
  
  -- ãƒ¡ã‚ğŸ˜ãƒ¡â¬†ï¸ã‚‚ ãƒ ã‚ˆããƒŸâ¬…ï¸ã•ãƒ ã‚ã² ãƒã¬â€¦ãƒ â—ğŸ˜
  if boss.dodge_cooldown > 0 then
    boss.dodge_cooldown -= 1
  end
  
  -- ãƒ âŒ‚ã•ãƒ¡âœ½ğŸ˜ãƒ ãˆã²ãƒ ã›â–ˆãƒŸã¯â–‘ ãƒ¡ã‚ğŸ˜ãƒ¡â¬†ï¸ã‚‚ ãƒ¡â–¥Ë‡ãƒŸã—ã
  local dodge_chance = 0
  if stage == 2 then
    dodge_chance = 0.5
  elseif stage == 3 then
    dodge_chance = 0.7
  end
  
  -- ãƒ¡â¬†ï¸ğŸ˜ãƒŸãâ˜‰ãƒ ãˆã²ãƒ âˆ§ã² ãƒ¡ã‚ğŸ˜ãƒ¡â¬†ï¸ã‚‚
  if boss.dodge_cooldown <= 0 then
    local dx = boss.x - player.x
    local dy = boss.y - player.y
    local dist = sqrt(dx * dx + dy * dy)
    
    if dist < 30 and rnd(1) < dodge_chance then
      boss.target_x = boss.x + sgn(dx) * 15
      boss.target_y = boss.y + sgn(dy) * 15
      boss.dodge_cooldown = 60
    end
  end
  
  -- ãƒ ãˆğŸ˜ãƒ¡â¡ï¸ã† ãƒ¡ã‚ğŸ˜ãƒ¡â¬†ï¸ã‚‚
  if boss.dodge_cooldown <= 0 then
    for n in all(notes) do
      local ndx = n.x - boss.x
      local ndy = n.y - boss.y
      local ndist = sqrt(ndx * ndx + ndy * ndy)
      if ndist < 20 and rnd(1) < dodge_chance then
        boss.target_x = boss.x - sgn(ndx) * 15
        boss.target_y = boss.y - sgn(ndy) * 15
        boss.dodge_cooldown = 60
        break
      end
    end
  end
  
  -- ãƒŸãŠã†ãƒŸâ™ªã• ãƒ ãˆã²ãƒŸâ—†â–¥
  boss.move_timer += 1
  if boss.move_timer > 180 then
    boss.target_x = 32 + rnd(64)  -- ãƒ¡â–¥â¬†ï¸ãƒŸãŸã² ãƒŸğŸ±ã² ãƒŸãŠã†ãƒŸâ™ªã• (4x4 ãƒ¡â–’ã¦ãƒã¾ã¬ ãƒã¯ããƒŸãã•)
    boss.target_y = 16 + rnd(48)
    boss.move_timer = 0
  end
  
  -- ãƒ ãˆã²ãƒŸâ—†â–¥
  boss.vx = (boss.target_x - boss.x) * 0.1 * cfg.boss_speed
  boss.vy = (boss.target_y - boss.y) * 0.1 * cfg.boss_speed
  boss.x += boss.vx
  boss.y += boss.vy
  
  -- ãƒ¡â–¥â¬†ï¸ãƒŸãŸã² ãƒã®ã‚„ãƒã¯â–‘ ãƒ ãã†ãƒ¡Ë‡ã† (4x4 ãƒ¡â–’ã¦ãƒã¾ã¬ ãƒã¯ããƒŸãã•)
  boss.x = mid(8, boss.x, 96)   -- 32ãƒ¡â¬†ï¸ã‚„ãƒ âœ½â–ˆ ãƒ¡â–’ã¦ãƒã¾ã¬ ãƒã¯ããƒŸãã•
  boss.y = mid(8, boss.y, 80)
  
  -- ãƒ¡â–¤ã‚‚ãƒŸã¦ã¾ ãƒ â¬‡ï¸ãˆãƒ â–‘ã­
  boss.portal_timer += 1
  if boss.portal_timer >= cfg.portal_interval and #enemies < cfg.max_enemies then
    create_portal()
    boss.portal_timer = 0
  end
  
  -- ãƒŸã¯ã²ãƒ âŒ‚ã• ãƒã¯ãµãƒã®ãŸ ãƒ¡ğŸ˜ããƒ¡â–‘ã²
  boss.attack_timer += 1
  if boss.attack_timer >= 120 then
    boss_attack()
    boss.attack_timer = 0
  end
  
  -- ãƒ Ë‡ããƒŸâ¬…ï¸â˜‰ãƒŸãŸâ¬†ï¸ãƒ ãˆã²ãƒ âœ½â–¤
  boss.anim_frame = (boss.anim_frame + 1) % 60
end

-- ========================================
-- ãƒŸã¯ã²ãƒ âŒ‚ã• ãƒã¯ãµãƒã®ãŸ ãƒ¡ğŸ˜ããƒ¡â–‘ã²
-- ========================================
function boss_attack()
  local pattern = stage
  
  -- ãƒ¡â¬†ï¸ğŸ˜ãƒŸãâ˜‰ãƒ ãˆã²ãƒ âˆ§ã² ãƒŸã¬ãŸãƒ¡âˆ§ã— ãƒã¯â–‘ãƒ ğŸ±ã¬
  local dx = player.x - boss.x
  local dy = player.y - boss.y
  local dist = sqrt(dx * dx + dy * dy)
  
  local dir_x = 0
  local dir_y = 0
  if dist > 0 then
    dir_x = dx / dist
    dir_y = dy / dist
  end
  
  if pattern == 1 then
    -- ãƒ¡ğŸ˜ããƒ¡â–‘ã² 1: ãƒŸâ¬…ï¸ããƒ ãˆã‚‚ ãƒã¯ãµãƒã®ãŸ (ãƒ â—â™ªãƒŸâ—†â–‘ ãƒã¬â€¦ãƒ â—ğŸ˜)
    add(boss_bullets, {
      x = boss.x + 16,
      y = boss.y + 16,
      w = 8,  -- ãƒ¡â–’ã¦ãƒã¾ã¬ ãƒ ã™ãˆãƒã¬â–ˆ
      h = 8,
      vx = dir_x * 1,  -- ãƒ â—â™ªãƒŸâ—†â–‘ 2 ãƒŒâ—â˜… 1ãƒŸãã† ãƒã¬â€¦ãƒ â—ğŸ˜
      vy = dir_y * 1,
      damage = 15,
      pattern = 1,
      sprite = 69  -- 69ãƒŸã®â˜‰ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾
    })
    
  elseif pattern == 2 then
    -- ãƒ¡ğŸ˜ããƒ¡â–‘ã² 2: 3ãƒŸã¬ãŸãƒ¡âˆ§ã— (ãƒ â—â™ªãƒŸâ—†â–‘ ãƒã¬â€¦ãƒ â—ğŸ˜)
    local angle = atan2(dx, dy)
    for i=-1,1 do
      local spread_angle = angle + i * 0.1
      add(boss_bullets, {
        x = boss.x + 16,
        y = boss.y + 16,
        w = 8,
        h = 8,
        vx = cos(spread_angle) * 2,  -- ãƒ â—â™ªãƒŸâ—†â–‘ 2 
        vy = sin(spread_angle) * 2,
        damage = 15,
        pattern = 2,
        sprite = 69
      })
    end
    
  else
    -- ãƒ¡ğŸ˜ããƒ¡â–‘ã² 3: 5ãƒŸã¬ãŸãƒ¡âˆ§ã— (ãƒ â—â™ªãƒŸâ—†â–‘ ãƒã¬â€¦ãƒ â—ğŸ˜)
    local angle = atan2(dx, dy)
    for i=-2,2 do
      local spread_angle = angle + i * 0.08
      add(boss_bullets, {
        x = boss.x + 16,
        y = boss.y + 16,
        w = 8,
        h = 8,
        vx = cos(spread_angle) * 2.5,  -- ãƒ â—â™ªãƒŸâ—†â–‘ 2.5
        vy = sin(spread_angle) * 2.5,
        damage = 15,
        pattern = 3,
        sprite = 69
      })
    end
  end
end

-- ========================================
-- ãƒ¡â–¤ã‚‚ãƒŸã¦ã¾ ãƒ â¬‡ï¸ãˆãƒ â–‘ã­
-- ========================================

function create_portal()
  local px = 8 + rnd(48)
  local py = 32 + rnd(64)
  
  add(portals, {
    x = px,
    y = py,
    timer = 0,
    spawn_count = flr(1 + rnd(3)),
    lifetime = 300,
    anim = 0
  })
end

-- ========================================
-- ãƒ¡â–¤ã‚‚ãƒŸã¦ã¾ ãƒ ââœ½ãƒŸâ™ªã¬ãƒ ãˆã²ãƒ¡âŒ‚ã¾
-- ========================================

function update_portals()
  local cfg = stage_config[stage]
  
  for p in all(portals) do
    p.timer += 1
    p.anim = (p.anim + 1) % 60
    
    if p.timer % 30 == 0 and p.spawn_count > 0 and #enemies < cfg.max_enemies then
      spawn_enemy(p.x, p.y)
      p.spawn_count -= 1
    end
    
    p.lifetime -= 1
    if p.lifetime <= 0 or p.spawn_count <= 0 then
      del(portals, p)
    end
  end
end
-- ========================================
-- ãƒ Ë‡âœ½ãƒŸãã¿ ãƒ â¬‡ï¸ãˆãƒ â–‘ã­
-- ========================================

function spawn_enemy(x, y)
  local enemy_type = flr(1 + rnd(3))  -- 1-3 ãƒ¡â¬‡ï¸â–ˆãƒ ãŠâœ½ ãƒŸãŠã†ãƒŸâ™ªã•
  
  -- ãƒŸã¡ã¦ãƒ âŒ‚ã•ãƒ¡â–‘ã¬ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ ãƒŸã®â˜‰ãƒ¡â–¤ã¾
  -- ãƒ¡â¬‡ï¸â–ˆãƒ ãŠâœ½ 1: 027/028
  -- ãƒ¡â¬‡ï¸â–ˆãƒ ãŠâœ½ 2: 043/044  
  -- ãƒ¡â¬‡ï¸â–ˆãƒ ãŠâœ½ 3: 059/060
  local sprite_numbers = {27, 43, 59}
  
  add(enemies, {
    x = x,
    y = y,
    w = 8,
    h = 8,
    vx = -0.5 + rnd(1),
    vy = -0.5 + rnd(1),
    hp = 20,
    damage = 10,
    type = enemy_type,
    anim_frame = 0,
    facing = 1,
    sprite = sprite_numbers[enemy_type]  -- 27, 43, 59 ãƒ ã•â¡ï¸ ãƒ¡Ë‡â–¤ãƒŸğŸ±â–¤
  })
end

-- ========================================
-- ãƒ Ë‡âœ½ãƒŸãã¿ ãƒã»ã¾ãƒŸã™ã¦ãƒã¾ã¬ (ãƒ¡â¬‡ï¸â–ˆãƒ ãŠâœ½ãƒŸã¯â–‘ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾, ãƒ ã‘ğŸ˜ãƒ ã‚ã¬ ãƒŸã¬â–¤ãƒ ãâ–‘)
-- ========================================

function draw_enemy(e)
  -- facingãƒ ââ€¦ ãƒŸâ¬†ï¸ã¬ãƒŸãˆã‚‚ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ ãƒ â–‘ããƒ¡â¬‡ï¸ãˆ
  -- ãƒ â–¤ã•ãƒŸã—ã¾ãƒ ã¡ã‚„(facing=1): 27, 43, 59
  -- ãƒ â–¥ã‚‚ãƒ ã¡ã‚„(facing=-1): 28, 44, 60
  local sprite_num = e.sprite
  if e.facing < 0 then
    sprite_num = e.sprite + 1  -- 27ãƒŒâ—â˜…28, 43ãƒŒâ—â˜…44, 59ãƒŒâ—â˜…60
  end
  
  spr(sprite_num, e.x, e.y)
end

-- ========================================
-- ãƒ Ë‡âœ½ãƒŸãã¿ ãƒ ââœ½ãƒŸâ™ªã¬ãƒ ãˆã²ãƒ¡âŒ‚ã¾
-- ========================================

function update_enemies()
  for e in all(enemies) do
    local dx = player.x - e.x
    local dy = player.y - e.y
    local dist = sqrt(dx * dx + dy * dy)
    
    if dist > 0 then
      e.vx = (dx / dist) * 0.8
      e.vy = (dy / dist) * 0.8
      
      -- ãƒ ãˆã²ãƒŸâ—†â–¥ ãƒŸã¬ãŸãƒ¡âˆ§ã—ãƒ ââ€¦ ãƒŸâ¬†ï¸ã¬ãƒŸãˆã‚‚ facing ãƒ ââœ½ãƒŸâ™ªã¬ãƒ ãˆã²ãƒ¡âŒ‚ã¾
      if e.vx > 0.1 then
        e.facing = 1
      elseif e.vx < -0.1 then
        e.facing = -1
      end
    end
    
    e.x += e.vx
    e.y += e.vy
    
    if abs(e.vx) > 0.1 or abs(e.vy) > 0.1 then
      e.anim_frame = (e.anim_frame + 1) % 30
    else
      e.anim_frame = 0
    end
    
    if e.x < -8 or e.x > 136 or e.y < -8 or e.y > 136 then
      del(enemies, e)
    end
  end
end

-- ========================================
-- ãƒ¡â˜‰ã¦ãƒ ğŸ±ã¦ãƒ ã®ã² ãƒ ââœ½ãƒŸâ™ªã¬ãƒ ãˆã²ãƒ¡âŒ‚ã¾
-- ========================================

function update_projectiles()
  -- ãƒ ãˆğŸ˜ãƒ¡â¡ï¸ã† ãƒ ââœ½ãƒŸâ™ªã¬ãƒ ãˆã²ãƒ¡âŒ‚ã¾
  for n in all(notes) do
    n.x += n.vx
    n.y += n.vy
    
    if n.x < 0 or n.x > 128 or n.y < 0 or n.y > 128 then
      del(notes, n)
    end
  end
  
  -- ãƒŸã¯ã²ãƒ âŒ‚ã• ãƒã¯ãµãƒã®ãŸ ãƒ ââœ½ãƒŸâ™ªã¬ãƒ ãˆã²ãƒ¡âŒ‚ã¾
  for b in all(boss_bullets) do
    b.x += b.vx
    b.y += b.vy
    
    -- ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ãƒ ââ€¦ ãƒŸã›ì›ƒãƒ¡ãŠâ–¤
    local blocked = false
    for p in all(platforms) do
      if b.x + b.w > p.x and
         b.x < p.x + p.w and
         b.y + b.h > p.y and
         b.y < p.y + p.h then
        blocked = true
        break
      end
    end
    
    if blocked or b.x < 0 or b.x > 128 or b.y < 0 or b.y > 128 then
      del(boss_bullets, b)
    end
  end
end

-- ========================================
-- ãƒ ã¸ãŸãƒŸâ—†ğŸ˜ ãƒã¬â€¦ãƒ ã›â–ˆ
-- ========================================

function check_collisions()
  -- ãƒ ãˆğŸ˜ãƒ¡â¡ï¸ã† vs ãƒ Ë‡âœ½ãƒŸãã¿
  for n in all(notes) do
    for e in all(enemies) do
      if collide(n, e) then
        e.hp -= n.damage
        del(notes, n)
        if e.hp <= 0 then
          del(enemies, e)
          player.special = min(100, player.special + 10)
          sfx(1)
        end
        break
      end
    end
  end
  
  -- ãƒ ãˆğŸ˜ãƒ¡â¡ï¸ã† vs ãƒŸã¯ã²ãƒ âŒ‚ã•
  for n in all(notes) do
    if collide(n, boss) then
      boss.hp -= n.damage
      del(notes, n)
      player.special = min(100, player.special + 5)
      sfx(1)
    end
  end
  
  -- ãƒ Ë‡âœ½ãƒŸãã¿ vs ãƒ¡â¬†ï¸ğŸ˜ãƒŸãâ˜‰ãƒ ãˆã²ãƒ âˆ§ã²
  for e in all(enemies) do
    if collide(e, player) then
      player.hp -= e.damage
      del(enemies, e)
      sfx(0)
    end
  end
  
  -- ãƒŸã¯ã²ãƒ âŒ‚ã• ãƒã¯ãµãƒã®ãŸ vs ãƒ¡â¬†ï¸ğŸ˜ãƒŸãâ˜‰ãƒ ãˆã²ãƒ âˆ§ã²
  for b in all(boss_bullets) do
    if collide(b, player) then
      player.hp -= b.damage
      del(boss_bullets, b)
      sfx(0)
    end
  end
end

function collide(a, b)
  return a.x < b.x + b.w and
         a.x + a.w > b.x and
         a.y < b.y + b.h and
         a.y + a.h > b.y
end

-- ========================================
-- ãƒ ã›â–ˆãƒŸâ˜‰â–‘ ãƒ â¬…ï¸ã†ãƒ âŒ‚ã•ãƒ¡âœ½ã†
-- ========================================

function update_jinu()
  if player.special >= 100 and not jinu_active then
    activate_jinu()
  end
  
  if jinu_active then
    jinu_timer -= 1
    if jinu_timer <= 0 then
      jinu_active = false
    end
  end
end

function activate_jinu()
  jinu_active = true
  jinu_timer = 60
  
  enemies = {}
  boss.hp -= boss.max_hp * 0.2
  player.special = 0
  
  sfx(2)
end

-- ========================================
-- ãƒã®ğŸ˜ãƒ ãŠâ–‘ ãƒ â¬‡ï¸â–’ãƒ¡â¬‡ï¸ã† ãƒ ã®ã²ãƒ¡â–’ã¦
-- ========================================

function check_game_state()
  if player.hp <= 0 then
    game_state = "gameover"
    music(-1)  -- ãƒ ãˆğŸ˜ãƒ Ë‡âœ½ ãƒ ãË‡ãƒ ã›â–ˆ
  end
  
  if boss.hp <= 0 and not stage_clear then
    stage_clear = true
    stage_clear_timer = 0
    sfx(4)
  end
end

-- ========================================
-- ãƒŸãŸâ¬†ï¸ãƒ ãˆã¾ ãƒã»ã¾ãƒŸã™ã¦ãƒã¾ã¬ ãƒŸã“ããƒ¡â¬†ï¸â–‘
-- ========================================

function _draw()
  cls(1)
  map()
  
  if game_state == "title" then
    draw_title()
  elseif game_state == "play" then
    draw_game()
  elseif game_state == "gameover" then
    draw_gameover()
  elseif game_state == "win" then
    draw_win()
  end
end

-- ========================================
-- ãƒã®ğŸ˜ãƒ ãŠâ–‘ ãƒ¡â–¥â¬†ï¸ãƒŸãŸã² ãƒã»ã¾ãƒŸã™ã¦ãƒã¾ã¬
-- ========================================

function draw_game()
  -- ãƒŸã¬ã¬ãƒã®ã‚„ãƒ â¬‡ï¸ì›ƒ ãƒ ãã†ãƒã­ã¬ (mapãƒ ã†ã‚‚ãƒŸãã† ãƒŸğŸ˜â–ˆãƒ ã®ã²)
  -- rectfill(0, 0, 127, 127, 1)
  
  -- ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ ãƒã»ã¾ãƒŸã™ã¦ãƒã¾ã¬
  for p in all(platforms) do
    if p.permanent then
      -- ãƒ â–¤â–’ãƒãµã¦ ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ (ãƒã¾ã¬ãƒŸã¯ã¾ ãƒŸË‡âœ½) - 179, 180, 181ãƒŸã®â˜‰ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ãƒŸãã† ãƒ ã­â–‘ãƒ ã‚ã¬ãƒã¾ã¬
      -- ãƒ â–¥ã‚‚ãƒ ã¡ã‚„: 179, ãƒ ã•â¡ï¸ãƒã¬â–‘: 180 (ãƒŸã¬â–¤ãƒŸã¯ãµ), ãƒ â–¤ã•ãƒŸã—ã¾ãƒ ã¡ã‚„: 181
      spr(179, p.x, p.y)  -- ãƒ â–¥ã‚‚ãƒ ã¡ã‚„ ãƒŸâ–’ãˆ
      for i = 8, p.w - 8, 8 do
        spr(180, p.x + i, p.y)  -- ãƒ ã•â¡ï¸ãƒã¬â–‘ ãƒ¡â¬‡ï¸â–ˆãƒ ãˆã‚‚ ãƒŸã¬â–¤ãƒŸã¯ãµ
      end
      spr(181, p.x + p.w - 8, p.y)  -- ãƒ â–¤ã•ãƒŸã—ã¾ãƒ ã¡ã‚„ ãƒŸâ–’ãˆ
    else
      -- ãƒ ãˆã‚‚ãƒŸã¬â–¤ ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ (ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ 177ãƒŸã®â˜‰ ãƒ ğŸ±ã¦ãƒ ã‚ãŸ)
      local remaining = 420 - platform_spawn_timer
      -- ãƒŸğŸ±ããƒ ãˆâ–ˆ ãƒ â¬…ï¸ã†ãƒã¬â–‘ãƒ ãˆã² 60ãƒ¡â¬†ï¸â–‘ãƒŸãâ˜‰ãƒ ãŠâ–‘ ãƒŸã«ã¾ãƒŸã›ğŸ˜ãƒ ãˆã²ãƒŸãŸã² ãƒã¿ã†ãƒŸã¿ããƒ ãˆã²ãƒŸâŒ‚â¬†ï¸ ãƒ¡ã‚ããƒã¯ã‚‚
      if remaining < 60 then
        -- ãƒã¿ã†ãƒŸã¿ããƒ ãˆã²ãƒŸâŒ‚â¬†ï¸ ãƒ¡ã‚ããƒã¯ã‚‚: 5ãƒ¡â¬†ï¸â–‘ãƒŸãâ˜‰ãƒ ãŠâ–‘ãƒŸã›â˜‰ãƒŸâ¬…ï¸ã• ãƒŸã®â˜‰ãƒã¬â˜‰ãƒ Ë‡â–‘ãƒã¬â–ˆãƒŸãŸã¬ ãƒ¡â¡ï¸ã†ãƒ â¬…ï¸ã†
        if flr(remaining / 5) % 2 == 0 then
          -- ãƒ¡â¬†ï¸ğŸ˜ãƒŸãŠã¤ãƒ¡â—†ã‚‚ãƒ ãˆâ–‘ 8ãƒ¡â¬†ï¸ã‚„ãƒ âœ½â–ˆ ãƒŸâ¬…ï¸ããƒ ã†â–‘ãƒŸãã† ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ ãƒ¡â¬‡ï¸â–ˆãƒ ãˆã‚‚ãƒŸã›â–’
          for i = 0, p.w - 1, 8 do
            spr(177, p.x + i, p.y)
          end
        end
        -- ãƒã¿ã†ãƒŸã¿ããƒ ãˆã‚‚ ãƒŸË‡ğŸ˜ãƒŸâŒ‚â¬†ï¸ ãƒã»ã¾ãƒŸã™ã¦ãƒ ã›â–ˆ ãƒ Ë‡âŒ‚ãƒ ãˆğŸ˜ (ãƒŸâ¬…ï¸ã•ãƒ ãˆğŸ˜ ãƒ¡â¬†ï¸â–‘ãƒŸãâ˜‰ãƒ ãŠâ–‘ãƒ ââ€¦ ãƒŸâ¬…ï¸ã•ãƒ â¬…ï¸ã† ãƒã»ã¾ãƒŸãã•ãƒ ã›â€¦)
      else
        -- ãƒ ãË‡ãƒ â¬‡ï¸â–’ ãƒ â¬‡ï¸â–’ãƒ¡â¬‡ï¸ã†: ãƒ¡Ë‡ã¨ãƒ â¬‡ï¸â–’ ãƒã»ã¾ãƒŸã™ã¦ãƒã¾ã¬
        for i = 0, p.w - 1, 8 do
          spr(177, p.x + i, p.y)
        end
      end
    end
  end
  
  -- ãƒ¡â–¤ã‚‚ãƒŸã¦ã¾
  for p in all(portals) do
    draw_portal(p)
  end
  
  -- ãƒ Ë‡âœ½ãƒŸãã¿
  for e in all(enemies) do
    draw_enemy(e)
  end
  
  -- ãƒŸã¯ã²ãƒ âŒ‚ã•
  draw_boss()
  
  -- ãƒŸã¯ã²ãƒ âŒ‚ã• ãƒã¯ãµãƒã®ãŸ
  for b in all(boss_bullets) do
    spr(b.sprite, b.x, b.y)
  end
  
  -- ãƒ¡â¬†ï¸ğŸ˜ãƒŸãâ˜‰ãƒ ãˆã²ãƒ âˆ§ã² ãƒã¯ãµãƒã®ãŸ (000ãƒŸã®â˜‰ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾)
  for n in all(notes) do
    spr(n.sprite, n.x, n.y)
  end
  
  -- ãƒ¡â¬†ï¸ğŸ˜ãƒŸãâ˜‰ãƒ ãˆã²ãƒ âˆ§ã²
  draw_player()
  
  -- ui
  draw_ui()
  
  -- ãƒ ã›â–ˆãƒŸâ˜‰â–‘ ãƒ ãˆã²ãƒ¡ğŸ…¾ï¸â–¥ãƒ¡âŒ‚ã¾
  if jinu_active then
    draw_jinu_effect()
  end
  
  -- ãƒ âŒ‚ã•ãƒ¡âœ½ğŸ˜ãƒ ãˆã²ãƒ ã›â–ˆ ãƒ¡â–’ã²ãƒŸã™ã¦ãƒ âˆ§ã² ãƒŸãŸâ¬†ï¸ãƒ â¬…ï¸ã†ãƒ ã›â–ˆ
  if stage_clear then
    rectfill(20, 50, 108, 70, 0)
    rect(20, 50, 108, 70, 7)
    if stage < 3 then
      print("stage clear!", 38, 56, 11)
      print("press x to next stage", 20, 62, 7)
    else
      print("final clear!", 36, 56, 11)
      print("press x to finish", 28, 62, 7)
    end
  end
end

-- ========================================
-- ãƒ¡â¬†ï¸ğŸ˜ãƒŸãâ˜‰ãƒ ãˆã²ãƒ âˆ§ã² ãƒã»ã¾ãƒŸã™ã¦ãƒã¾ã¬ (ãƒŸãã†ãƒŸã«ã¾ ãƒŸã¯ã¾ãƒ ã®ã² 100-103 + ãƒ ã›â–ˆãƒ¡ğŸ˜ããƒ ãˆã² 3ãƒŸã®â˜‰ ãƒŸã¸â–‘ãƒŸã™ã¦)
-- ========================================

function draw_player()
  -- 1. ãƒŸãã†ãƒŸã«ã¾ ãƒŸã¯ã¾ãƒ ã®ã² ãƒã»ã¾ãƒŸã™ã¦ãƒã¾ã¬ (100-103ãƒŸã®â˜‰ ãƒ ã•â¡ï¸ ãƒ¡â–¤â–‘ãƒ ãŠã¦ ãƒ Ë‡ããƒŸâ¬…ï¸â˜‰ãƒŸãŸâ¬†ï¸ãƒ ãˆã²ãƒ âœ½â–¤ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾)
  -- update_player()ãƒ ââ€¦ãƒ â–‘ã† ãƒ ãˆã²ãƒŸã«ã¾ ãƒ â–¤ã¦ãƒŸã¬â¬†ï¸ãƒŸã—ã¾ sprite ãƒŸã®â˜‰ãƒ¡â–¤ã¾ãƒã¬â–ˆ ãƒ â–‘ã•ãƒ ãË‡ãƒŸâ€¦â–¤ãƒ âˆ§ã² ãƒ ãŠâ˜‰ãƒ ãˆğŸ˜
  
  if not player.grounded then
    -- ãƒ ãâ€¦ãƒ¡â¬†ï¸â–‘/ãƒã¯ãµãƒ ã•â¡ï¸
    if player.facing > 0 then
      spr(100, player.x, player.y)  -- ãƒ â–¤ã•ãƒŸã—ã¾ãƒ ã¡ã‚„ ãƒã¾ã¬ãƒŸã¯ã¾
    else
      spr(102, player.x, player.y)  -- ãƒ â–¥ã‚‚ãƒ ã¡ã‚„ ãƒã¾ã¬ãƒŸã¯ã¾
    end
  elseif player.vx != 0 then
    -- ãƒ ãˆã²ãƒŸâ—†â–¥ ãƒ Ë‡ããƒŸâ¬…ï¸â˜‰ãƒŸãŸâ¬†ï¸ãƒ ãˆã²ãƒ âœ½â–¤
    if player.facing > 0 then
      spr(100 + flr(player.anim_frame / 8) % 2, player.x, player.y)  -- 100, 101
    else
      spr(102 + flr(player.anim_frame / 8) % 2, player.x, player.y)  -- 102, 103
    end
  else
    -- ãƒã¾ã¬ãƒŸã¯ã¾ ãƒ ãŠâ€¦ãƒ â–‘ã¾
    if player.facing > 0 then
      spr(100, player.x, player.y)  -- ãƒ â–¤ã•ãƒŸã—ã¾ãƒ ã¡ã‚„ ãƒã¾ã¬ãƒŸã¯ã¾
    else
      spr(102, player.x, player.y)  -- ãƒ â–¥ã‚‚ãƒ ã¡ã‚„ ãƒã¾ã¬ãƒŸã¯ã¾
    end
  end
  
  -- 2. ãƒ ã›â–ˆãƒ¡ğŸ˜ããƒ ãˆã²ãƒŸã—ã‚‚ãƒŸã—ã‚‚ ãƒŸã¬ãŸãƒ¡âˆ§ã—ãƒ ââ€¦ ãƒŸâ¬†ï¸ã¬ãƒŸãˆã‚‚ ãƒŸãã†ãƒŸã«ã¾ ãƒ â–¤â—ãƒ ââ€¦ ãƒã»ã¾ãƒŸã™ã¦ãƒã¾ã¬ (1ãƒŸã®â˜‰ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾)
  local flip_x = player.facing < 0
  if player.facing > 0 then
    -- ãƒ â–¤ã•ãƒŸã—ã¾ãƒ ã¡ã‚„ ãƒŸã¯ã‚‚ ãƒŸË‡ğŸ˜: ãƒŸãã†ãƒŸã«ã¾ ãƒ â–¤ã•ãƒŸã—ã¾ãƒ ã¡ã‚„ãƒ ââ€¦ ãƒ ã›â–ˆãƒ¡ğŸ˜ããƒ ãˆã²
    spr(1, player.x + 6, player.y, 1, 1, false)
  else
    -- ãƒ â–¥ã‚‚ãƒ ã¡ã‚„ ãƒŸã¯ã‚‚ ãƒŸË‡ğŸ˜: ãƒŸãã†ãƒŸã«ã¾ ãƒ â–¥ã‚‚ãƒ ã¡ã‚„ãƒ ââ€¦ ãƒ ã›â–ˆãƒ¡ğŸ˜ããƒ ãˆã²
    spr(1, player.x - 6, player.y, 1, 1, true)
  end
  
  -- ãƒã¯ãµãƒã®ãŸ ãƒ Ë‡ããƒŸâ¬…ï¸â˜‰ãƒŸãŸâ¬†ï¸ãƒ ãˆã²ãƒ âœ½â–¤ ãƒ ã•â¡ï¸ãƒ ãˆã²ãƒŸãŸã² ãƒ ã›â–ˆãƒ¡ğŸ˜ããƒ ãˆã² ãƒ¡ã†â–¤ãƒŸâ¡ï¸â€¦ãƒŸã—ã²ãƒã¾ã¬ ãƒ ãˆã²ãƒ¡ğŸ…¾ï¸â–¥ãƒ¡âŒ‚ã¾ ãƒ ã¸â¬†ï¸ãƒã¬â–ˆ
  if player.attack_anim > 0 then
    local sword_x = player.x + (player.facing > 0 and 8 or -4)
    local sword_y = player.y + 2
    local offset = (10 - player.attack_anim) * 2
    
    -- ãƒ ã›â–ˆãƒ¡ğŸ˜ããƒ ãˆã² ãƒã¸ã•ãƒ ãâ–’ ãƒ ãˆã²ãƒ¡ğŸ…¾ï¸â–¥ãƒ¡âŒ‚ã¾ (ãƒ¡Ë‡â–¤ãƒ âˆ§â–ˆãƒ â¬‡ï¸ì›ƒ ãƒ â–‘ã)
    line(
      sword_x, 
      sword_y, 
      sword_x + player.facing * offset, 
      sword_y - offset / 2, 
      7
    )
  end
end

-- ========================================
-- ãƒŸã¯ã²ãƒ âŒ‚ã• ãƒã»ã¾ãƒŸã™ã¦ãƒã¾ã¬ (2x2 ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾)
-- ========================================

function draw_boss()
  -- 4x4 ãƒ¡â–’ã¦ãƒã¾ã¬ãƒŸãã† ãƒã»â–ˆãƒŸã›â˜‰ ãƒã»ã¾ãƒŸã™ã¦ãƒã¾ã¬ (sprite: 200ãƒŸã®â˜‰ãƒŸã¸â–ˆãƒ¡â–‘ã¬)
  spr(boss.sprite, boss.x, boss.y, 4, 4)
  
  -- ãƒ ã®ã²ãƒŸãã— ãƒŸã¬â¬†ï¸ (ãƒŸâ™ªâ¬†ï¸ ãƒã¾ã¾ãƒã®ğŸ˜)
  local hp_width = (boss.hp / boss.max_hp) * 32
  rectfill(boss.x, boss.y - 4, boss.x + 31, boss.y - 2, 0)
  rectfill(boss.x, boss.y - 4, boss.x + hp_width - 1, boss.y - 2, 8)
end

-- ========================================
-- ãƒ¡â–¤ã‚‚ãƒŸã¦ã¾ ãƒã»ã¾ãƒŸã™ã¦ãƒã¾ã¬
-- ========================================

function draw_portal(p)
  local frame = flr(p.anim / 15) % 4
  for i = 0, 7 do
    local angle = i / 8 + frame / 16
    local x = p.x + cos(angle) * 8
    local y = p.y + sin(angle) * 8
    -- ãƒ ã“ã‚‚ãƒŸã¯â–ˆ ãƒ ã„â€¦ãƒ¡â–¤Ë‡ ãƒ Ë‡ããƒŸâ¬…ï¸â˜‰ãƒŸãŸâ¬†ï¸ãƒ ãˆã²ãƒ âœ½â–¤ãƒŸâ—†â–‘ 143ãƒŸã®â˜‰ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ ãƒ ğŸ±ã¦ãƒ ã‚ãŸ
    spr(159, x - 4, y - 4)  -- ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ ãƒ ã•â¡ï¸ãƒ â¬…ï¸ã¦ ãƒ ãË‡ãƒŸãã¦ (8x8 ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾)
  end
  -- ãƒ ã•â¡ï¸ãƒ â¬…ï¸ã¦ 143ãƒŸã®â˜‰ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾
  spr(159, p.x - 4, p.y - 4)
end

-- ========================================
-- ui ãƒã»ã¾ãƒŸã™ã¦ãƒã¾ã¬
-- ========================================

function draw_ui()
  print("hp", 2, 2, 7)
  rectfill(14, 2, 64, 6, 0)
  rectfill(14, 2, 14 + (player.hp / player.max_hp) * 50, 6, 8)
  
  print("special", 2, 10, 7)
  rectfill(30, 10, 80, 14, 0)
  rectfill(30, 10, 30 + (player.special / 100) * 50, 14, 10)
  
  print("stage " .. stage, 90, 2, 7)
  print("enemies: " .. #enemies, 82, 10, 7)
end

-- ========================================
-- ãƒ ã›â–ˆãƒŸâ˜‰â–‘ ãƒ ãˆã²ãƒ¡ğŸ…¾ï¸â–¥ãƒ¡âŒ‚ã¾ (ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ ãƒ ğŸ±ã¦ãƒ ã‚ãŸ)
-- ========================================

function draw_jinu_effect()
  -- ãƒ¡â–¥â¬†ï¸ãƒŸãŸã² ãƒ ã•â¡ï¸ãƒ Ë‡â–¥ãƒ ââ€¦ ãƒ¡â–’ã¬ ãƒ ã›â–ˆãƒŸâ˜‰â–‘ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ (4x4 ãƒ¡â–’ã¦ãƒã¾ã¬)
  local jinu_x = 64 - 16  -- ãƒ ã•â¡ï¸ãƒ Ë‡â–¥ ãƒ ãË‡ãƒŸãã¦ (32ãƒ¡â¬†ï¸ã‚„ãƒ âœ½â–ˆãƒ ãˆâ–¤ ãƒ ãâ˜‰ãƒŸã¬â–¤ = 16)
  local jinu_y = 64 - 16
  
  -- ãƒ ã›â–ˆãƒŸâ˜‰â–‘ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾: ãƒã¾ã¬ãƒŸã¯ã¾(192) <-> ãƒ ã†â–¥ãƒ¡â–’ã¦(196) ãƒŸã®â˜‰ãƒã¬â˜‰ãƒ Ë‡â–‘ãƒã¬â–ˆãƒŸãŸã¬
  local jinu_sprite = 192  -- ãƒã¾ã¬ãƒŸã¯ã¾ ãƒ ã›â–ˆãƒŸâ˜‰â–‘
  if flr(jinu_timer / 10) % 2 == 0 then
    jinu_sprite = 196  -- ãƒ ã†â–¥ãƒ¡â–’ã¦ ãƒ ã›â–ˆãƒŸâ˜‰â–‘
  end
  
  -- ãƒŸã¬ã¬ãƒã®ã‚„ ãƒ ãˆã²ãƒ¡ğŸ…¾ï¸â–¥ãƒ¡âŒ‚ã¾ (ãƒŸã®â˜‰ãƒ ãŸâ™ªãƒ ãˆã²ãƒŸâŒ‚â¬†ï¸ ãƒ¡ã‚ããƒã¯ã‚‚ - ãƒŸâ™ªâ¬†ï¸ ãƒ¡â–¥â¬†ï¸ãƒŸãã•ãƒ¡Ë‡â–¤ãƒã®ğŸ˜)
  -- ãƒ¡ã‚ããƒã¯ã‚‚ 1: ãƒ ã®ã²ãƒ¡â–’ã¦ãƒŸã¦ã²ãƒŸâŒ‚ã¦ ãƒŸã®â˜‰ãƒ ãŸâ™ªãƒ ãŠâ–‘
  for i = 0, 127, 8 do
    for j = 0, 127, 8 do
      if (i + j) % 16 == jinu_timer % 16 then
        rectfill(i, j, i + 7, j + 7, 10)  -- ãƒŸâœ½ã¾ãƒŸãŠâ–ˆãƒ â¬‡ï¸ì›ƒ
      end
    end
  end
  
  -- ãƒ¡ã‚ããƒã¯ã‚‚ 2: ãƒŸã¬ãŸãƒ ğŸ±ã¦ãƒ¡â–¤Ë‡ ãƒŸãˆã‚‚ãƒ ãˆã¾ (ãƒ â–‘ããƒ¡â¬‡ï¸ãˆãƒ ğŸ±ã¦ãƒ¡Ë‡ã¨)
  for i = 0, 7 do
    local angle = (i / 8) + (jinu_timer / 60)
    local x1 = 64 + cos(angle) * 20
    local y1 = 64 + sin(angle) * 20
    local x2 = 64 + cos(angle) * 50
    local y2 = 64 + sin(angle) * 50
    line(x1, y1, x2, y2, 7)  -- ãƒ¡ãˆã¬ãƒ â¬‡ï¸ì›ƒ ãƒŸãˆã‚‚ãƒ ãˆã¾
  end
  
  -- ãƒ¡ã‚ããƒã¯ã‚‚ 3: ãƒŸã¬â–¤ãƒ ã›ãˆãƒ ãˆã²ãƒŸâŒ‚â¬†ï¸ ãƒŸã¯â–‘ (ãƒ â–‘ããƒ¡â¬‡ï¸ãˆãƒ ğŸ±ã¦ãƒ¡Ë‡ã¨)
  for i = 1, 10 do
    local star_x = 10 + rnd(108)
    local star_y = 10 + rnd(108)
    if (jinu_timer + i * 6) % 12 < 6 then
      pset(star_x, star_y, 7)  -- ãƒ¡ãˆã¬ãƒ â¬‡ï¸ì›ƒ ãƒŸã¯â–‘
      pset(star_x + 1, star_y, 10)  -- ãƒŸâœ½ã¾ãƒŸãŠâ–ˆãƒ â¬‡ï¸ì›ƒ ãƒŸã¯â–‘
    end
  end
  
  -- ãƒ ã›â–ˆãƒŸâ˜‰â–‘ ãƒ âŒ‚ã•ãƒ¡â¬†ï¸â–‘ãƒŸãˆã‚‚ãƒ ãˆã²ãƒ¡âŒ‚ã¾ (4x4 ãƒ¡â–’ã¦ãƒã¾ã¬ãƒŸãã† ãƒ¡â–’ã¦ãƒã®ğŸ˜)
  spr(jinu_sprite, jinu_x, jinu_y, 4, 4)
  
  -- ãƒ¡âœ½â™ªãƒ âŒ‚ã•ãƒ¡âŒ‚ã¾ (ãƒ ã›â–ˆãƒŸâ˜‰â–‘ ãƒ Ë‡â–‘ãƒŸãŠâ–¤ãƒ ã¡ã‚„ãƒ ââ€¦, ãƒŸã¬â–¤ãƒ ã›ãˆãƒ ãˆã²ãƒŸâŒ‚â¬†ï¸ ãƒ¡ã‚ããƒã¯ã‚‚)
  local text_color = 7
  if jinu_timer % 10 < 5 then
    text_color = 10  -- ãƒŸâœ½ã¾ãƒŸãŠâ–ˆãƒ â¬‡ï¸ì›ƒãƒ ã†ã‚‚ãƒŸãã† ãƒŸã¬â–¤ãƒ ã›ãˆ
  end
  print("jinu!", 48, 88, text_color)
end

-- ========================================
-- ãƒ¡â¬‡ï¸â–ˆãƒ ãˆã²ãƒ¡â¬…ï¸â–ˆ ãƒ¡â–¥â¬†ï¸ãƒŸãŸã²
-- ========================================

function draw_title()
  cls(0)
  print("golden", 45, 40, 10)
  print("k-pop demon hunters", 24, 50, 7)
  print("press x or z to start", 18, 70, 6)
end

-- ========================================
-- ãƒã®ğŸ˜ãƒ ãŠâ–‘ ãƒ â–¤ã•ãƒŸã®â–‘ ãƒ¡â–¥â¬†ï¸ãƒŸãŸã²
-- ========================================

function draw_gameover()
  cls(0)
  print("game over", 40, 60, 8)
  print("press x to restart", 24, 70, 7)
end

-- ========================================
-- ãƒ âŒ‚ã¿ãƒŸã™ã¦ ãƒ¡â–¥â¬†ï¸ãƒŸãŸã²
-- ========================================

function draw_win()
  cls(0)
  print("you win!", 45, 50, 11)
  print("all stages clear!", 28, 60, 10)
  print("press x to restart", 24, 70, 7)
end
__gfx__
00000000000007cb00007c00000000cb0000067c0000000000994900000444000000000000000000004900000000000000000bf000000000000700070ff00000
0000a0000000008c0007cdb000000c7ccd7000b700f951000912014000400440ef0ef0ef0999999009990000000000000000b1ba00070007000977799ffe6666
0000aa0000000907000002dc0000c7c0700d09060fd7fd104101121404444044ff0ff0ff00999990009960000000bf0000003b3000097779000717179ffe6666
0000a0a0007040000000c0c7070c7c0007009000fa6f56219112112944444044000000000999999009990000000b1ba000bbbe007007171700007e70944e6666
0000a000000c0000000700700078c00000790d00464d621492011014044404040eef0ef009999d900999000000b3be000bbff06007007e70700f770099ee6666
007a0000009070000090000000e7000000970070f4521d2191111114400044400fff0ff009999990099900000bbff000b3be00000707770007f7fef04488dddd
00aa000004000000980000000d0070004c0070d0024125100401019044440444000000000099999000900000b3be06000030b00000779f7000779f7022222222
0000000090000000da000000d0000000040007c0000000000049940004444040f0eef0ef0999999009000000003000000b00000009f7509709f7509740000004
00000000000000000000030b00b3bd00099949400d25f6600800090006d00d6004444444000cccc0000000000ff000f000000000000000000000000000b0b000
0090009000090000000000a30bea93b04ffffff2005656009009000bd006d0064000400400ccc1cc00cccc000f8fff8000ff000f00000000000000000a030b00
0040004000040000008d8300bab83b3b9f55f5fe0054fe002d0080200d6d0d60000400040cccccc00ccc1c0000fffff000f8fff80000000000cc9000b0b0b4b0
994999490002000008a6e8e02dfdb32b45f65f520016560000b30b09000000004444444000cc26ecccccccc000f1ff10000fffff00cc90000e1ccc00030b3b0d
44444444000000000d9a94803b4beb3346fff6f200556e0090003090990999090000000f0c2666f00cc26ec00f0ff8f0000f1ff10e1ccc090ccc7cc0b0b030b2
002000200009000008e6e82003b3615002242420001646000b930030440944090ff0ff0f946f6f000cd66f00f800ff0f00f0ff8f0ccc7cc0007070090b3b0d0d
004000400004000000282e000031230000024b00005f560000309b00000000000000ff00090000c09266f0000ff0000f0f8f0ff80700070000000000b320d1d0
00000000000200000000000000095000000340000d256660000b4000094409440ff0000f000000000900c000800f00f0f0f0800f00000000000000000dbd0d20
044444444444444040000004000a900099999999000fff00000a0000000000000000000000000000000000000000990000000000000c60000006d00003020434
40000000000000044000000400a9a9009999999900f444f0000a00000a000a00000000000000000000000000000009900000990000c76c0000676d000030d090
40000000000000044000000409aa49a099999999004000f0000a0000090a090a08000800077007700000000000002919000009900cf767c006f767d000049d00
400000000000000440000004aa9a9a9a9999999900000f40000400000309030900080008006dd600000660000028949900002919c77766666777666d00009000
400000000000000440000004a9a9a9a9999999990000f400000000000a030a030000000000077000006dd6000998900090289499ddddf11c1ddd111500094d00
400000000000000440000004094aa4902222222200004000000a0000090a090a08000800000000000770077090090900099890000ced18c001ed1e5000429400
40000000000000044000000400994900010000100000f0000004000003090309000800080000000000000000009000000009090000cd1c00001d1500092002d0
40000004400000044000000400000000040000400000400000000000000300030000000000000000000000000000000000900000000dc0000001500000000004
4000000440000004444444440000900000000000000000000000000004444440049949400000000000000000000ccc000000ccc000bbb0000000000000ddd000
4000000000000004000000000004f0000009000009900000000000b069999996d511115d0000000000cccc0000ccccc0000ccccc0b39990000bbb00002f7f200
40000000000000040000000000095d0000090000a429999400000330d444444d51525215000cc0000c0000c000ce1e10000ce1e10b9191000b399900df666fd0
400000000000000400000000004f625000049990900a4a4a00000300d446644d51d11d1500c00c00c000000c000ce2e00000ce2e0b1999000b919100d66666d0
4000000000000004000000000e94f12000049990299202020b300000699559964d6225d4000cc000c000000c00c0eee0000c0eee0b1111070b199900d5d6b6d0
40000000000000040000000006f529160002442002400000003b0000d225522d5e2112e5000000000c0000c000ce000000c0c200006b00309361110026666b20
400000000000000400000000ef2f1f5200040040000000000003000064422446d444444d0000000000cccc000c1ce0e00c1c2ce03000b000003bb037d6b369d0
04444444444444404444444402f692200000000000000000000000009ddd6dd99ddd6dd900000000000000000e00c0dee000e0c090d00d000d00000023663b20
0c00c0700001f10000007000000700000000009000e9990a0000000000000000000000490000000009070a0800000008008cccc0088000000000000000000000
0701f10c0045c5400000470000047000005114000e6a88920ef1d1fe0001f5000000459510000000099a790c09070a0c080c0cc0080cccc00150051000800000
0045c540701f5f1000006900000d600f056d112098a88489004f8f400202f240004595992410000002414106099a7906000ccc80000c0cc00500005008a80000
001f5f10049dfd94049270094947094901d11110988888890018981008ff9ffe4595959529241000004944040241410400000000000ccc800005500000800000
049dfd940049d9409f434f4f9fd324a401111110988888e9049f2f940092f294959595492929241003242046004944060080cc00000000000005500000000a00
0c49d94c0c4a9a4cc495a494049a494c01111510988886890ef989fe0029f92095954822292929244f323f0643242046080cca000880cc00050000500000a8a0
0c4a9a4c00c444c0074949477c4494c000115100098cc8900049a9400049e940954822502929292453f3f0060f323f0600c000a0000cca000150051000000a00
00c444c0000c2c0000cc7dc000c7c7000000000000999900000292000002920048225040292929240208200602f8f2060a000000000a00000000000000000000
00000000004940000000000000094400004940000000000000000000088800f000cccc0000cccc0000006d000bbb006d0000000000000a000000000000000000
00494000001f19000049400000444900001f8900004940000088800008a80f400cffffc00cffffc00bbb06d0bbbbb00600a90a000a0a9a000000000000000000
001f190000fff800004449000044480000ff4200001f8400008a800088880f000c2ff2c00c2ff2c0bbbbb0600bb0b00b0a9a90000009a9000000000000000000
00fff800003e39000044980000423900003e390000ff4200088880ff808000000cfe8fc00cffffc00bb0b0b0000bb0200099800000998000000c000000000000
0f3e3900080330f00f423400080330f000038000003e390008880800000008000cc82cc00cce8cc0000bb02000b200b000899000008a900000c0c000000c0000
000990800f099000000990800f099000000f30000003300000000880220082800cccccc00cc82cc00b2002b00b0b2b00000880000008800000000c0000c0c000
008003f000900800008003f000900800000498000f0990f022088080228800280dccccd00dccccd0b0b2b0b000020200000440000004e0000000000000000000
000008000080000000000800008000000000800000800800220888080088000000dccd0000dccd000b0020b000b0200000004000000040000000000000000000
003aa00000000000000aa30000000000003aa00000000000000aa3000000000000cccc0700cccc0000999550022200d044ff0600000000000000000000000000
00a89a00003aa00000aa8a00000aa30000af9400003aa000004f9a00000aa30007ffff700cffffc005191950229980d0fffff0600d5005000000b90000000100
0a9999a000a89a000aaaaaa000aa8a000a91e10000af9400001e19a0004f9a000cf11fc70cffffc005999550291910d04f1f1060d550000009b030000d000000
0a1919a00a9999a00aa9aaa00a9aaaa00ae99e000a91e10000e99ea0001e19a00cf11fceecf11fc001c9c180229990600ffff044550000d0003a000000050000
009994000a191ea000aaa9000aaaaaa00a0887000ae99e00007880a000999ea00cccccc00cccccc080ccc000028877d004ff046400000d50000d0000000000d0
00828090909994000082804000aaa900a07080800a0887000808070a007880a00cccccc00cccccce001a1009078800d0422240600d5500100000000000000000
009070000082800000c0700004828000008c0700007080c00070c800000807000dccccd00dccccd000100100067070d042200060005100000000000000002000
00060c00000ce00000000c0000070c00000000c000006d000c0000000056000000dccd0000dccd0000800080007007d010010600000000000000000000000000
09070a0800000008008cccc00880000000006d000bbb006d0000000000000a00d0d0d0d00000000000000000000000000ff000000044440004400000d6666665
099a790c09070a0c080c0cc0080cccc00bbb06d0bbbbb00600a90a000a0a9a00959595950000000000000000008880000f0ffff0049999404940000065555550
02414106099a7906000ccc80000c0cc0bbbbb0600bb0b00b0a9a90000009a900959595950000000000009999008a8088000f0ff0499999941940000065555550
004944040241410400000000000ccc800bb0b0b0000bb020009980000099800095959595000000000000990908888080000fff40119999944955000065555550
03242046004944060080cc0000000000000bb02000b200b000899000008a90009595959509900000000000900808080000000000499999944940000065555550
4f323f0643242046080cca000880cc000b2002b00b0b2b000008800000088000959595959099900000009900000008800ff0ff00499995941940000065555550
53f3f0060f323f0600c000a0000cca00b0b2b0b000020200000440000004e00045454545999949900000999922088080000ff400119999944940000065555550
0208200602f8f2060a000000000a00000b0020b000b02000000040000000400002020202040400000000090022088808000f000049999994440000005000000d
dddddddd0ddddddddddddddddddddddd00000000dddddddddddddddd0aaaaaa00000655000000000044000400000000000000677000000000000000000000000
dddddd6d06ddddddddddddd6dddddd6600000000d666dddddd6ddddda499994a0aaa06500006666004144440000cc00000000067097000009a90000000777600
ddddd66d00ddddddddddddd0dddd660000000000600066ddd677dddd4aaaaaa9aaaaa060006606000044444000cccc0000000d0609490000a499999a07766670
ddddd6dd00ddddddddddddddddd6000000000000000000dddddddddd499999990aa0a0a0000662600041441000c0c0000000d000009490009094494907666660
d66ddddd0dddddddddddddd6ddd00000000000000000006ddddddddd04999990000aa0a00062666004044140000ccc00000d0000000949409990040406666650
dd66dddd0ddddddddddddd60dd600000000000d00000000ddddd776d004999000a2002a0066620004400440400c0000004d00000000090904440000005666550
ddd6dddd06dddddddddddd00dd000000d0d00ddd00000006ddddd6dd00049000a0a220a060066222044000040c0c040044400000000049900000000000555500
dddddddd006dddddddddddd0d0000000dddddddd00000000dddddddd0049aa000a0020a066066022400400400c0cc44004000000000000000000000000000000
0000000d00000000000000000000000ddddddddddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000dddd0ddd00dd0dd0000000000dddddddddddd00000000000000000000000000000000000000000000000000000000000000000000000000000000aaa900
000dddddddddddddddddd000000000ddddddddddd60000000000000000000000000000000000000000000000000000000000000000000000000000000aa998a0
00dddddddddddddddddddd0000000dddddddddddd00000000000000000000000000000000000000000000000000000000000000000000000000000000a988880
00ddddddddddddddddddd6000000066ddddddddddd0000000000000d000000000000000000000000000000000000000000000000000000000000000009888840
0dddddddddddddddddddddd0000000dddddddddddd000000000000dddd0000000000000000000000000000000000000000000000000000000000000004888440
0ddddddddddddddddddddd600000006dddddddddd600000000000dddddd000000000000000000000000000000000000000000000000000000000000000444400
0ddddddddddddddddddddddd0000000dddddddddd00000000000dddddddd00000000000000000000000000000000000000000000000000000000000000000000
ddddddddddddddddddddddd6d0000000dddddddd0000000d0000dddddddd00000000000000000000000000000000000000000000000000000000000000000000
0ddddddddddddddddddddd60d0000000666dd6dd0000000d0000ddddddd600000000000000000000000000000000000000000000000000000000000000000000
06dddddddddddddddddddd00d0000000000660660000000d00006dddd6d000000000000000000000000000000000000000000000000000000000000000000000
006dddddddddddddddddddd0dd000000000000000000000d00000666606000000000000000000000000000000000000000000000000000000000000000000000
000ddddddddddddddddddd60dd00000000000000000000dd00000000000000000000000000000000000000000000000000000000000000000000000000000000
00066ddddddddddddddd6600ddd00000000000000000dddd00000000000000000000000000000000000000000000000000000000000000000000000000000000
000006ddd66d666dd6d60000dddd000d00000000000ddddd00000000000000000000000000000000000000000000000000000000000000000000000000000000
000000666006000660600000dddddddd00000000dddddddd00000000000000000000000000000000000000000000000000000000000000000000000000000000
dddd0000077770000000077006700000007000000000077000000000000000000000000000000000000000000000000000000000999999994444999900000000
dddd0000777777777777777716717611077716706676667000000000000000000000000000000000000000000000000000000000999999994444999900000000
dddd0000171111111711111167176767676777767771767700000000000000000000000000000000000000000000000000000000999999994444999900000000
dddd0000616716706167167611116166161111717111771600000000000000000000000000000000000000000000000000000000999999994444999900000000
dddd0000766616111666161161161111166171161661617100000000000000000000000000000000000000000000000000000000000000000000000000000000
dddd0000666166616671666166111666667661766176166100000000000000000000000000000000000000000000000000000000000000000000000000000000
dddd0000666666666666667666666666666666661166166600000000000000000000000000000000000000000000000000000000000000000000000000000000
dddd0000666666666666666666666666666666666666666600000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000dddddddd111111110000000000000000
00000000000000000000000000000000000000000000000000000000000000000000f80005f000000000f5000f000000dddddddd111111110000000000000000
0000000000000000000000000000000000000000000000000000000000000000000f800005f000000000f50008800000dddddddd111111110000000000000000
00000000000000111111111000000000000000000000001111111110000000000008800005ff0000000ff50000880000dddddddd111111110000000000000000
00000000001110001611611100000000000000000011100016116111000000000008800005ff2222222ff50000880000dddddddd111111110000000000000000
000000001111011106116661000000000000000011110111061166610000000000288800022ff22222ff222000882000dddddddd111111110000000000000000
000000011660661111611116100000000000000116606611116111161000000000288820028888888888882208882000dddddddd111111110000000000000000
000000016600610111166111600000000000000166006101111661116000000000288882288888888888888228882000dddddddd111111110000000000000000
00000006611610001011661116000000000000066116100010116611160000000022888888888888888888888888200000000000000000000000000000000000
00000016111100f0111116161100000000000016111100f011111616110000000002288888888888888888888882200000000000000000000000000000000000
0000001111110fff01110111111000000000001111110fff01110111111000000000228888888888888888888822000000000000000000000000000000000000
0000001111100ffff1011111111000000000001111100ffff1011111111000000000022888882888888828888220000000000000000000000000000000000000
000000111110ffffff01111111100000000000111110ffffff011111111000000000002888822288888222888200000000000000000000000000000000000000
00000011110ffffffff011111110000000000011110ffffffff01111111000000000002882228228822282282000000000000000000000000000000000000000
000000111100000fff00011111000000000000111100000fff00011111000000000000222288b8222288b8222000000000000000000000000000000000000000
0000000110ffffffffffff11100000000000000110ffffffffffff111000000000000002288b0b88288b0b822000000000000000000000000000000000000000
000000ff1f700ffffff007f11ff00000000000ff1f700ffffffffff11ff000000000000288b080b888b080b82000000000000000000000000000000000000000
000000ff1f700ffffff007ff1f4f0000000000ff1f700ffffff000ff1f4f000000000002888b0b88888b0b882000000000000000000000000000000000000000
000000ff1f700ffffff007ff1f4f0000000000ff1f700fffff0fff0f1f4f0000000000028888b888b888b8882000000000000000000000000000000000000000
0000000ffff70ffffff07fff1ff000000000000ffff70fffffffffff1ff00000000000002888888b0b8888822000000000000000000000000000000000000000
000000000ffffff4fffffffff0000000000000000ffffff4fffffffff00000000000000028888880808888820000000000000000000000000000000000000000
000000000ffffff44fffffff00000000000000000ffffff44fffffff00000000000000002888f888888f88820000000000000000000000000000000000000000
000000000fffffffffffffff00000000000000000ffffffffffffff0000000000000000ff288ff8888ff88200000000000000000000000000000000000000000
0000000000ffffffff0ffff0000000000000000000ffffffff0ffff00000000000000ff50f288f0000f882f5f000000000000000000000000000000000000000
0000000000fffff0004fff00000000000000000000fffff0004fff0000000000000ff55ff5f280000008205f55fff00000000000000000000000000000000000
00000000000fffffeeffff000000000000000000000fffffeeffff0000000000000000f5005f808888085ff5ff50ff0000000000000000000000000000000000
000000000000fffffffff00000000000000000000000fffffffff000000000000000ff5f5ff0f888888ff5ff5f00000000000000000000000000000000000000
0000000000000fffffff0000000000000000000000000fffffff000000000000000ff0f00f5ff2288225ff5f00ff000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000f00f5222200f50ff000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000ff0ff00000000f000f00000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000f000000000f000000000000000000000000000000000000000000
__label__
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11717177711111888888888888888888888888888888888888888888888888888111111111111111111111111117717771777117717771111177111111111111
11717171711111888888888888888888888888888888888888888888888888888111111111111111111111111171111711717171117111111117111111111111
11777177711111888888888888888888888888888888888888888888888888888111111111111111111111111177711711777171117711111117111111111111
11717171111111888888888888888888888888888888888888888888888888888111111111111111111111111111711711717171717111111117111111111111
11717171111111888888888888888888888888888888888888888888888888888111111111111111111111111177111711717177717771111177711111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111771777177711771777177717111a0000000000000000000000000000000000000000000000000017771771177717771777177711771111111117711111111
117111717171117111171171717111a0000000000000000000000000000000000000000000000000017111717171117771171171117111171111111711111111
117771777177117111171177717111a0000000000000000000000000000000000000000000000000017711717177117171171177117771111111111711111111
111171711171117111171171717111a0000000000000000000000000000000000000000000000000017111717171117171171171111171171111111711111111
117711711177711771777171717771a0000000000000000000000000000000000000000000000000017771717177717171777177717711111111117771111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111666666666666666666666666666666111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111688888888888888888888888888886111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111688888888888888888888888888886111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111666666666666666666666666666666111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111116666666666666666666666666666666666111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111116888888888888888888888888888888886111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111116888888888888888888888888888888886111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111116666666666666666666666666666666666111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111166666666666666666666666666666
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111169999999999999999999999999999
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111169999999999999999999999999999
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111166666666666666666666666666666
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111888878888887888811111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111888777888877788811111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111888878888887888811111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111111133311111111111111111111111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111113333333111111111111111111111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111113333333111111111111111111111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111133303033366666666666666666111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111133333333388888888888888886111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111133333333388888888888888886111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111163333333666666666666666666111111111111111111111111111111111111111111111111111111111111888888888888888811111111
11111111111111111113333333111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111133311111111111111111666666666666666666666666666666666666666111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111688888888888888888888888888888888888886111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111688888888888888888888888888888888888886111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111666666666666666666666666666666666666666111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111cccccccc1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111cccccccc1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111cccccccc1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111ccccccc77711111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111cccccccc1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111cccccccc1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111cccccccc1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111cccccccc1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
66666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
65555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555556
65555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555556
65555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555556
65555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555556
65555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555556
65555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555556
66666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666

__map__
9c9c9c9c9c9c9c9c9c9c9c9c9c9c9c9c9cabaaaaaaaaaaaaaaaaaaabaa313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9a9a9a9a9a9a9a9a9a9a9aab9a9caaaaaaaaaaaaaaaaaaaaabaa313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9aabab9a9a9a9a9a9a9a9a9aab9a9caaaaaaaaaaaaaaaaaaaaabaa313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9aab9a9a9a9a9a9a9a9a9aab9a9caaaaaaaaaaaaaaaaaaaaabaa313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9a9a9a9aa99a9a9a9a9a9aab9a9caaaaaaaaaaaaaaaaaaaaabaa313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9a9a9a9a9a9a9a9a9a9a9aab9a9cabaaaaaaaaaaaaaaaaaaabaa313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9a9a989a9a9a989a9a9a9aab9a9caaaaaaaaaaaaaaaaaaaaabaa313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9a9a98989a9a9a9a9a9a9aab9a9caaaaaaaaaaaaaaaaaaaaabaa313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9a9a9a9a9a9a9a9a9a9a9aab9a9caaaaaa98aaaaaaaaaaaaabaa313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9a9a9a9a9a9a9a9a9a9a9aab9a9caaaaaaaaaaaaaaaaaaaaabaa313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9a9a9a9a9a9a9a9a9a9a9aab9a9caaaaaaaaaaaaaaaaaaaaabaa313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9a9a9a9a9a9a9a9a9a9a9aab9a9caaaaaaaaaaaaaaaaaaaaabaa313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9a9a9a9a9a9a9a9a9a9a9aab9a9caaaaaaaaaaaaaaaaaaaaabaa313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9a9a9a9a9a9a9a9a9a9a9aab9a9caaaaaaaaaaaaaaaaaaaaabaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9a9a9a9a9a9a9a9a9a9a9a9a9a9a9a9a9caaaaaaaaaaaaaaaaaaaaaaaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000200001a42016020120200f0300b040090500606003070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00020000107301e030217301c7401d3001e3000a30000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000e0000000002176021750217502170026750267502570025700297502976029750010002b7502d7502d7502d7502d7502e00020000260002b00000000000000000000000000000000000000000000000000000
00010000207201e7201b7200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c811000012a2212a3012a2412a2612a4212a2311a4312b4311a4411a3411a2411a1510a1310a2510a2510a4110a2510a1410a2510a4410a1510a2510a4210a2510a2510a1510a2110a3210a4410a4510a4410a40
00100000198501985019850008002e8001b8501b80007800008001c8501c85026800268001b850268001d8501e8001e8501f8301f850208302480022850228502380023800268502885024850258501f8502c850
001000001892017920199201c9201d9001b9001b9201c9101e9001d9201b9201c9201d9001d9101d9201c9201b9201c9201d9001d9201c9201b9201a920199201a9201c9002da202ea202fa201a90031a2030a20
000d000000000268502585023850228502185021850208501f8501e8501e8501c8501a850188501685014850118500c8500a850168301580012830108000d8200b80008800000000000000000000000000000000
__music__
02 06054544
00 04454344
00 07424344

